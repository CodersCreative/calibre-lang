type Thing = struct { name : str };

type ThingEnum = enum { Person Animal Object : Thing, Nothing };

const global_thing : ThingEnum = ThingEnum.Nothing;

impl ThingEnum {
	const age = 90;

	const name = fn match &ThingEnum -> str {
		.Person | .Animal | .Object : thing => *thing.name,
		_ => "None"
	};
};

const main = fn () => {
	let a = [10, 20, 450];
	for i in a => "a : " & i |> print;
	
	print(a[0]);
	let thing = Thing { name : "Ty" };
	print(thing.name);
	let thing = ThingEnum.Person : thing;
	print(thing);
	print(global_thing.name());
	print("mentioned object : " & ThingEnum.name(thing));
	print("object inferred : " & thing.name());
	print("static from object : " & ThingEnum.age);
	print("static from object inferred : " & thing.age);
};

bench simple => main();